1· 定义统一的 response 接口

```
interface CusResponse<T> {
  // 给出的提示
  message:string
  // 返回http自定义状态
  code:string
  // 对应的数据内容
  list:T[]
}

```

2· 定义统一的异常处理拦截器 拦截所有的异常返回

3· 登录返回 token 设计

- 用户输入用户名和密码 登录成功 返回对应的 token 以及对应的用户信息(包含用户的权限，这里权限使用一个字段 auth 来表明)
- auth 字段中包含了所有可能的角色名称 例如（admin · user ，这个字段可以用户自定义）

- 资源表 resource ，里面包含了角色可以操作的所有资源，比如能够访问的页面列表

```
{
  user:{
    name:"",
    auth:{
      admin:[{
        id:1,
        url:'/com/zuj1'
      }]
    }
  }
}
```

4· 用户使用的 token 设定了过期时间，当时间过期之后 需要取消授权，然后登录返回新的 token，获取在原有 token 还有 30 分钟的时候，设定 refresh token 延长 token 的有效期 避免 token 失效，影响用户体验



5· 展示所有的页面，但是只有特定的role才能访问， 每个资源后面 有一个role 数组，里面包含可以访问的角色名称。

登录的时候返回一个资源与role 对应的清单

这样如果用户点击某个页面的时候，根据页面的url获取用户对应的role，看当前用户的角色是否在 资源对应的role列表中，如果存在就能访问
如果不在就不能访问，跳转无权限页面。